<!DOCTYPE html>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="style.css">
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v1.min.js"></script>
<script>

var width = 960,
    height = 960;

var projection = d3.geo.mercator()
    .scale((width + 1) / 2 / Math.PI)
    .translate([width / 2, height / 2])
    .precision(.1);

var path = d3.geo.path()
    .projection(projection);

//var graticule = d3.geo.graticule();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

/*
svg.append("path")
    .datum(graticule)
    .attr("class", "graticule")
    .attr("d", path);
*/
/*
d3.json("/mbostock/raw/4090846/world-50m.json", function(error, world) {
  svg.insert("path", ".graticule")
      .datum(topojson.feature(world, world.objects.land))
      .attr("class", "land")
      .attr("d", path);

  svg.insert("path", ".graticule")
      .datum(topojson.mesh(world, world.objects.countries, function(a, b) { return a !== b; }))
      .attr("class", "boundary")
      .attr("d", path);
});
*/

var locationTest = [{"where": "Carpinteria", "lat":34.401, "lon":-119.519},
                    {"where": "LA", "lat":34.049, "lon":-118.245},
                    {"where": "Detroit ", "lat":42.4, "lon":-83.14}
]

svg.selectAll("circle")
    .data(locationTest)
    .enter()
    .append("circle")
    .attr("r", 2)
    .attr("cx",function(d){
      return projection([d.lon, d.lat])[0]
    })
    .attr("cy",function(d){
      return projection([d.lon, d.lat])[1]
    })

svg.selectAll("text")
    .data(locationTest)
    .enter()
    .append("text")
    .text(function(d){return d.where})
    .attr("x",function(d){
      return projection([d.lon, d.lat])[0]
    })
    .attr("y",function(d){
      return projection([d.lon, d.lat])[1]
    })
    .attr("text-anchor", "end")

//d3.select(self.frameElement).style("height", height + "px");

</script>